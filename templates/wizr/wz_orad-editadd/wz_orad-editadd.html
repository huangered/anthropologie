<!-- YOU ARE ONLY PERMITTED TO CHANGE THE ORDER OF THE INCTEMPLATE TAGS WITHIN THIS TEMPLATE. YOU MAY NOT ADD OR CHANGE ANY OTHER CODE. -->

<venda_zones type=countries,template=zoneJs>

<venda_category rec=elementcat,ref=oradeditaddtopcontent>
<div class="checkoutR checkoutRoradeditadd">
<venda_category rec=elementcat,ref=editaddcolumn>
</div>
<div class="checkoutL">
<div class="container containeroradeditadd">
<venda_inctemplate type=includes/wizr/wz_orad-editadd,name=heading_intro>

<venda_form>
<input type="hidden" name="PrimaryForm">
<input type="hidden" name="default" value="1">
<input type="hidden" name="abrfnbr" value="<venda_abrfnbr>">
<venda_block label=134,workflow=singleadbook><input type=hidden name="copybilltodel" value="1"></venda_block label=134>
<fieldset class="f-oradedetail">
<legend class="oradedetail"><venda_text id=site.delivery_address.legend.contact_details></legend>
<div><label for="title"><venda_text id=site.delivery_address.label.title><span class="re-waiHide"> <venda_text id=site.accessible.label.required></span> <span class="required">*</span></label> 

<venda_block label=1011,mode=value,<venda_sessionlanguage>=en>
<select name="title" id="title">
	<option value=""><venda_text id=site.please.select.option></option>
	<option value="Mr"<venda_block label=101,title=Mr> selected</venda_block label=101>><venda_text id=site.please.select.mr></option>
	<option value="Mrs"<venda_block label=111,title=Mrs> selected</venda_block label=111>><venda_text id=site.please.select.mrs></option>
	<option value="Miss"<venda_block label=121,title=Miss> selected</venda_block label=121>><venda_text id=site.please.select.miss></option>
	<option value="Ms"<venda_block label=131,title=Ms> selected</venda_block label=131>><venda_text id=site.please.select.ms></option>
</select>
</venda_block label=1011>

<venda_block label=102,mode=value,<venda_sessionlanguage>=de>
<select name="title" id="title">
	<option value=""><venda_text id=site.please.select.option></option>
	<option value="Mr"<venda_block label=101,title=Mr> selected</venda_block label=101>><venda_text id=site.please.select.mr></option>
	<option value="Mrs"<venda_block label=111,title=Mrs,title=Miss,title=Ms,operator=or> selected</venda_block label=111>><venda_text id=site.please.select.mrs></option>
</select>
</venda_block label=102>

</div>
<div><label for="fname"><venda_text id=site.delivery_address.label.first_name><span class="re-waiHide"> <venda_text id=site.accessible.label.required></span> <span class="required">*</span></label> <venda_fname field=text,size=25,maxlength=30,required=yes></div>
<venda_block label=123,mode=value,<venda_setting type=ebiz,name=showmname>=1>
<div><label for="mname"><venda_text id=site.contact_address.label.middle_name></label> <venda_mname field=text,size=25,maxlength=30></div>
</venda_block label=123>
<div><label for="lname"><venda_text id=site.delivery_address.label.last_name><span class="re-waiHide"> <venda_text id=site.accessible.label.required></span> <span class="required">*</span></label> <venda_lname field=text,size=25,maxlength=30,required=yes></div>
<venda_block label=50,param2!=storeadd>
<div><div><label for="phone" class="dontFloat"><venda_text id=site.delivery_address.label.phone_number></label> <venda_block label=101,mode=value,<venda_setting type=ebiz,name=hidearea>!=1><label for="area" class="dontFloat invisible"><venda_text id=site.delivery_address.label.phone_area_code></label></venda_block label=101></div> <venda_block label=100,mode=value,<venda_setting type=ebiz,name=hidearea>!=1><venda_area field=text,size=4,maxlength=6> </venda_block label=100><venda_phone field=text,size=18,maxlength=20></div>

</venda_block label=50>
<venda_block label=51,param2=storeadd>
<div><div><label for="phone" class="dontFloat"><venda_text id=site.delivery_address.label.phone_number><span class="re-waiHide"> <venda_text id=site.accessible.label.required></span> <span class="required">*</span></label> <venda_block label=101,mode=value,<venda_setting type=ebiz,name=hidearea>!=1><label for="area" class="dontFloat invisible"><venda_text id=site.delivery_address.label.phone_area_code></label></venda_block label=101></div> <venda_block label=100,mode=value,<venda_setting type=ebiz,name=hidearea>!=1><venda_area field=text,size=4,maxlength=6,required=yes> </venda_block label=100><venda_phone field=text,size=18,maxlength=20,required=yes></div>
</venda_block label=51>
<venda_block label=125,mode=value,<venda_setting type=ebiz,name=showfax>=1>
<div><div><label for="fax" class="dontFloat"><venda_text id=site.contact_address.label.fax_number></label> <venda_block label=101,mode=value,<venda_setting type=ebiz,name=hidearea>!=1><label for="farea" class="dontFloat invisible"><venda_text id=site.contact_address.label.fax_area_code></label></venda_block label=101></div> <venda_block label=100,mode=value,<venda_setting type=ebiz,name=hidearea>!=1><venda_farea field=text,size=4,maxlength=6> </venda_block label=100><venda_fax field=text,size=18,maxlength=20></div>

</venda_block label=125>
</fieldset>

<venda_block label=52,param2!=storeadd>
<!--venda_inctemplate type=includes/wizr/wz_orad-editadd,name=complete_delivery_address-->
<fieldset class="f-oradeadd">
<legend class="oradeadd"><venda_text id=site.delivery_address.legend.complete_delivery_address></legend>
<venda_block label=124,mode=value,<venda_setting type=ebiz,name=showcompany>=1>
<div><label for="company"><venda_text id=site.contact_address.label.company></label> <venda_company field=text,size=25,maxlength=60></div>  </venda_block label=124>
<venda_block label=2,param2=uk>
	<venda_block label=887,mode=value,<venda_htxt mode=get,name=changeaddby>=multipledeliveryaddresses><input type="hidden" name="htxt" value="<venda_htxt mode=make,changeaddby=multipledeliveryaddresses>"></venda_block label=887>
	<div><label for="zcdropdown"><venda_text id=site.delivery_address.label.addresses_found> <span class="re-waiHide"> (required)</span><span class="required">*</span></label> <venda_zcdropdown></div>

	<venda_block label=888,param3!=addgiftwrap>
	<a href='#' onClick='<venda_wizbutton step=newadd,mode=display,param1=delivery,param2=add,callonly=yes> return false;'>
	<venda_text id=site.delivery_address.enter_address_manually></a>.
</venda_block label=888>
<venda_block label=889,param3=addgiftwrap>
	<a href='#' onClick='<venda_wizbutton step=newadd,mode=display,param1=delivery,param2=add,callonly=yes,param3=addgiftwrap> return false;'>
	<venda_text id=site.delivery_address.enter_address_manually></a>.
</venda_block label=889>
	<venda_city field=hidden><venda_state field=hidden><venda_zipc field=hidden><venda_cntry field=hidden>
</venda_block label=2>
<venda_block label=3,param2!=uk>

	<venda_tpcomment><!-- fully editable if address couldn't be found --></venda_tpcomment>
	<venda_block label=88,mode=value,<venda_setting type=ebiz,name=nohousenum>!=1><div><label for="num"><venda_text id=site.delivery_address.label.house_name_flat_number> <span class="re-waiHide"> (required)</span><span class="required">*</span></label> <venda_num field=text,size=25,maxlength=20,required=yes></div></venda_block label=88>
	<div><label for="addr1"><venda_text id=site.delivery_address.label.address> <span class="re-waiHide"> (required)</span><span class="required">*</span></label> <venda_addr1 field=text,size=25,maxlength=50,required=yes></div>

	<div><label for="addr2" class="invisible"><venda_text id=site.delivery_address.label.address2></label> <venda_addr2 field=text,size=25,maxlength=50></div>
	<div><label for="city"><venda_text id=site.delivery_address.label.city> <span class="re-waiHide"> (required)</span><span class="required">*</span></label> <venda_city field=text,size=25,maxlength=30,required=yes></div>

	<div id="stateDiv"><label for="state" id="stateLabel"><venda_text id=site.delivery_address.label.county></label> <span id="statelistbox"></span><span id="statetextbox"><input type="text" id="statetext" name="state" value="<venda_state>" class="admn_fieldsLarge" size="15" maxlength="20" /></span></div>

	<div id="zipcDiv"><label for="zipc" id="zipcLabel"><venda_text id=site.delivery_address.label.postcode></label> <venda_zipc field=text,size=25,maxlength=20></div>

	<div id="countryDiv"><label for="cntry" id="countryLabel"><venda_text id=site.delivery_address.label.country> <span class="re-waiHide"> (required)</span><span class="required">*</span></label> <select name="cntry" class="admn_fieldsLarge" id="cntrylist" onchange="hasState(document.getElementById('statelistbox'),document.getElementById('statetextbox'),document.getElementById('statelist'),this.value);">
<option value=""><venda_text id=site.country.please.select.option></option>
<option value="Austria"><venda_text id=site.country.please.select.option.austria></option>
<option value="Belgium"><venda_text id=site.country.please.select.option.belgium></option>
<option value="Bulgaria"><venda_text id=site.country.please.select.option.bulgaria></option>
<option value="Channel Islands"><venda_text id=site.country.please.select.option.islands></option>
<option value="Cyprus"><venda_text id=site.country.please.select.option.cyprus></option>
<option value="Czech Republic"><venda_text id=site.country.please.select.option.czech></option>
<option value="Denmark"><venda_text id=site.country.please.select.option.denmark></option>
<option value="Estonia"><venda_text id=site.country.please.select.option.estonia></option>
<option value="Finland"><venda_text id=site.country.please.select.option.finland></option>
<option value="France"><venda_text id=site.country.please.select.option.france></option>
<option value="Germany"><venda_text id=site.country.please.select.option.germany></option>
<option value="Greece"><venda_text id=site.country.please.select.option.greece></option>
<option value="Hungary"><venda_text id=site.country.please.select.option.hungary></option>
<option value="Ireland"><venda_text id=site.country.please.select.option.ireland></option>
<option value="Italy"><venda_text id=site.country.please.select.option.italy></option>
<option value="Latvia"><venda_text id=site.country.please.select.option.latvia></option>
<option value="Lithuania"><venda_text id=site.country.please.select.option.lithuania></option>
<option value="Luxembourg"><venda_text id=site.country.please.select.option.luxembourg></option>
<option value="Malta"><venda_text id=site.country.please.select.option.malta></option>
<option value="Netherlands"><venda_text id=site.country.please.select.option.netherlands></option>
<option value="Norway"><venda_text id=site.country.please.select.option.norway></option>
<option value="Poland"><venda_text id=site.country.please.select.option.poland></option>
<option value="Portugal"><venda_text id=site.country.please.select.option.portugal></option>
<option value="Romania"><venda_text id=site.country.please.select.option.romania></option>
<option value="Slovak Republic"><venda_text id=site.country.please.select.option.slovak></option>
<option value="Slovenia"><venda_text id=site.country.please.select.option.slovenia></option>
<option value="Spain"><venda_text id=site.country.please.select.option.spain></option>
<option value="Sweden"><venda_text id=site.country.please.select.option.sweden></option>
<option value="Switzerland"><venda_text id=site.country.please.select.option.switzerland></option>
<option value="United Kingdom"><venda_text id=site.country.please.select.option.uk></option>
</select>
<venda_block label=1251,curstep=editadd>
<style type="text/css">
.container #zipc {width:281px;}
</style>
</venda_block label=1251>
</div>
<script type="text/javascript">
<venda_tpcomment>// generate the state dropdown in JS so that JS-free users don't see 2 fields</venda_tpcomment>
if (typeof Venda.Platform.Checkout.jsContent != "undefined" || Venda.Platform.Checkout.jsContent) {
	Venda.Platform.Checkout.jsContent.create('statelistbox');
};
setDropDownDefault(document.getElementById("cntrylist"), '<venda_cntry>');
hasState(document.getElementById('statelistbox'),document.getElementById('statetextbox'),document.getElementById('statelist'),'<venda_cntry>');
setDropDownDefault(document.getElementById("statelist"), '<venda_state>');
</script>
</venda_block label=3>
</fieldset>

<venda_block label=48,mode=value,<venda_glxt mode=get,name=glxtusertype>!=p,<venda_ustype>!=P>
<fieldset class="f-oradename">
<legend class="oradename"><venda_text id=site.delivery_address.legend.address_name></legend>
<div><label for="addrname"><venda_text id=site.delivery_address.label.address_name></label> <venda_addrname field=text,size=25,maxlength=30></div>
</fieldset>
</venda_block label=48>
</venda_block label=52>
<venda_block label=53,param2=storeadd>
<venda_inctemplate type=includes/wizr/wz_orad-editadd,name=store_delivery_address>
</venda_block label=53>
<script type="text/javascript">
<!--
//check if textbox form element is empty and put focus on that element if empty
//form: form name
//elm: element to check
//errMsg: error message - only appears if an error parameter is passed
function chkField(form, elm, errMsg) {	
	var curElm = document.forms[form].elements[elm];	
	if (curElm.value != '' && curElm.value.length != 0) {
		return true; 
	} else {
		if (arguments[2] != undefined) {
			alert(errMsg);
			curElm.focus();
		}
		return false;
	}
}

//check if textbox form element is a number, all white spaces are removed
//form: form name
//elm: element to check
//errMsg: error message - only appears if an error parameter is passed
function isNum(form, elm, errMsg) {
	var numOnly =/^\d+$/;
	var curElm = document.forms[form].elements[elm];
	var strpdField = curElm.value.replace(/\s+/g,'');
	if (numOnly.test(strpdField)) {  
		return true;
	} else {
		if (arguments[2] != undefined) {
			alert(errMsg);
			curElm.focus();
		}
		return false;
	}
}

//check if select form element is empty and put focus on that element if empty
//form: form name
//elm: element to check
//errMsg: error message
function chkDropdown(form, elm, errMsg) {
	var objDropdown = document.forms[form].elements[elm];
	var objSelectValue = objDropdown.options[objDropdown.selectedIndex].value; 
	if (objSelectValue != "") {
		return true;
	} else {
		if (arguments[2] != undefined) {
			alert(errMsg);
			objDropdown.focus();
		}
		return false;
	}
}

// isRequiredField - this param is set to 'true' when country field is 'US', for validating State and Zipcode
var isRequiredField = false;

function validateFields() {
	var curFrm = "wizform"; //set form name
	var isValid=0;
	if (!chkField(curFrm, 'title', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.title>')) { isValid=1; return false; }
	if (!chkField(curFrm, 'fname', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.first_name>')) { isValid=1; return false; }
	if (!chkField(curFrm, 'lname', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.last_name>')) { isValid=1; return false; }
	
	<venda_block label=190,mode=value,<venda_setting type=ebiz,name=hidearea>!=1>
	if (chkField(curFrm, 'area')) { 
		if (!isNum(curFrm, 'area', '<venda_text id=site.edit_contact_address.phone.alert>')) { isValid=1; document.forms[curFrm].elements['area'].select(); return false; }
	}
	</venda_block label=190>
	if (chkField(curFrm, 'phone')) {
		if (!isNum(curFrm, 'phone', '<venda_text id=site.edit_contact_address.phone.alert>')) { isValid=1; document.forms[curFrm].elements['phone'].select(); return false; }
	}
	<venda_block label=1901,mode=value,<venda_setting type=ebiz,name=showfax>=1>
	<venda_block label=1911,mode=value,<venda_setting type=ebiz,name=hidearea>!=1>
	if (chkField(curFrm, 'farea')) { 
		if (!isNum(curFrm, 'farea', '<venda_text id=site.singlesteppc_lookup.contact_address.js_validation.farea_digits>')) { isValid=1; document.forms[curFrm].elements['farea'].select(); return false; }
	}
	</venda_block label=1911>
	if (chkField(curFrm, 'fax')) {
		if (!isNum(curFrm, 'fax', '<venda_text id=site.singlesteppc_lookup.contact_address.js_validation.fax_digits>')) { isValid=1; document.forms[curFrm].elements['fax'].select(); return false; }
	}
	</venda_block label=1901>
	
	<venda_block label=1900,param2=uk,errors=null>
	if (!chkField(curFrm, 'zcdropdown', '<venda_text id=site.edit_contact_address.select.ads>')) { isValid=1; return false; }
	</venda_block label=1900>
	<venda_block label=1910,param2!=uk,errors=notnull,operator=or>
	<venda_block label=88,mode=value,<venda_setting type=ebiz,name=nohousenum>!=1>
	if (!chkField(curFrm, 'num', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.num>')) { isValid=1; return false; }
	</venda_block label=88>
	if (!chkField(curFrm, 'addr1', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.addr1>')) { isValid=1; return false; }
	if (!chkField(curFrm, 'city', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.city>')) { isValid=1; return false; }

    if(isRequiredField){
    	if (!chkField(curFrm, 'statelist', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.state>')) { isValid=1; return false; }
    	if (!chkField(curFrm, 'zipc', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.zipc.us>')) { isValid=1; return false; }
    }
   	if (!chkField(curFrm, 'zipc', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.zipc>')) { isValid=1; return false; }
	if (!chkDropdown(curFrm, 'cntry', '<venda_text id=site.singlesteppc_lookup.contact_address.delivery_address.js_validation.cntry>')) { isValid=1; return false; }
	</venda_block label=1910>
	if(isValid===0){
		return true;
	} else {
		return false;
	}
}

function nextPage () {
	if (!validateFields()) {
		return;
	}
	if (document.wizform.title.value == "") {
		alert('<venda_text id=site.delivery_address.js_validation.title>');
		return ;
	}
    if(isRequiredField){
    	if (document.wizform.statelist.value == "") { 
            alert('<venda_text id=site.delivery_address.js_validation.state>');
            return ; 
        }
    	if (document.wizform.zipc.value == "") { 
            alert('<venda_text id=site.delivery_address.js_validation.zipc.us>');
            return ; 
        }
    }
	if (document.wizform.zipc.value == "") { 
		alert('<venda_text id=site.delivery_address.js_validation.zipc>');
		return ; 
	}
	<venda_block label=34,param2=uk>
	if (document.wizform.zcdropdown.selectedIndex==0) {
		alert("<venda_text id=site.delivery_address.js_validation.select_address>");
		document.wizform.zcdropdown.focus();
	}
	else {
	</venda_block label=34>
		<venda_block label=36,workflow=manageaddresses>
		// if in manageaddresses workflow
		<venda_wizbutton step=shipadd,mode=process,check=yes,param2=password,callonly=yes>
		</venda_block label=36>
        <venda_block label=37,workflow=giftlist>
		// if in giftlist workflow
		<venda_wizbutton step=shipadd,mode=process,check=yes,param2=password,callonly=yes>
		</venda_block label=37>
		<venda_block label=38,workflow=shopcart,workflow=instore,operator=or>

		<venda_block label=400,param3!=addgiftwrap>
			<venda_block label=40,mode=value,<venda_htxt mode=get,name=changeaddby>=multipledeliveryaddresses>
			// if in shopcart workflow - multipledeliveryaddresses no param3
			<venda_wizbutton step=itemship,mode=process,check=yes,param2=password,callonly=yes>
			</venda_block label=40>
			<venda_block label=41,mode=value,<venda_htxt mode=get,name=changeaddby>!=multipledeliveryaddresses>
			// if in shopcart workflow - edit button, no giftwrap
			<venda_wizbutton step=confirm,mode=process,check=yes,param2=password,callonly=yes>
			</venda_block label=41>
		</venda_block label=400>
		<venda_block label=401,param3=addgiftwrap>
			<venda_block label=40,mode=value,<venda_htxt mode=get,name=changeaddby>=multipledeliveryaddresses>
			// if in shopcart workflow - multipledeliveryaddresses param3
			<venda_wizbutton step=addgiftwrap,mode=process,check=yes,param2=password,callonly=yes>
			</venda_block label=40>
			<venda_block label=41,mode=value,<venda_htxt mode=get,name=changeaddby>!=multipledeliveryaddresses>
			// if in shopcart workflow - edit button, giftwrap
			<venda_wizbutton step=addgiftwrap,mode=process,check=yes,param2=password,callonly=yes>
			</venda_block label=41>
		</venda_block label=401>

		</venda_block label=38>
		<venda_block label=139,workflow=singleadbook>
		//express checkout
		<venda_wizbutton step=confirm,mode=process,param1=copybillto,check=yes,wizard=shopcart,callonly=yes>
		</venda_block label=139>
		<venda_block label=39,workflow!=shopcart,workflow!=manageaddresses,workflow!=giftlist,workflow!=instore,workflow!=singleadbook>
		// if in none of those workflows
		<venda_wizbutton step=next,mode=process,check=yes,param2=password,callonly=yes>
		</venda_block label=39>
        
	}
<venda_block label=440,param2=uk>}</venda_block label=440>
// -->
</script>

<div id="buttons">

<venda_block label=716,workflow=giftlist>
<venda_block label=811,param2=edit>
		<a href="#" onClick='<venda_wizbutton step=shipadd,mode=display,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a>
		</venda_block label=811>
		<venda_block label=812,param2!=edit>
		<venda_block label=29,mode=value,<venda_sessionlocation>!=europe><a href="#" onClick='<venda_wizbutton step=zipcodedelivery,mode=display,param1=delivery,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a></venda_block label=29>
		<venda_block label=30,mode=value,<venda_sessionlocation>=europe><a href="#" onClick='<venda_wizbutton step=shipadd,mode=display,param1=delivery,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a></venda_block label=30>

		</venda_block label=812>
</venda_block label=716>

<venda_block label=714,workflow=manageaddresses>
<venda_block label=14,param1=delivery>
	<!--Adding new address-->
	<venda_block label=32,mode=value,<venda_sessionlocation>!=europe><a href="#" onClick='<venda_wizbutton step=zipcodedelivery,mode=display,param1=delivery,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a></venda_block label=32>
	<venda_block label=33,mode=value,<venda_sessionlocation>=europe><a href="#" onClick='<venda_wizbutton step=shipadd,mode=display,param1=delivery,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a></venda_block label=33>
</venda_block label=14>
<venda_block label=15,param1!=delivery>
	<!--Editing existing address-->

	<a href="<venda_codehttps>?ex=co_wizr-manageaddresses&bsref=<venda_bsref>"><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a>
</venda_block label=15>
</venda_block label=714>

<venda_block label=313,workflow=shopcart>
	<venda_block label=78,param2!=adbook>
	<!-- if you were previously at the zipcode screen you are not allowed to go back as you would add an incomplete entry to your addresses -->
	<!-- if you were previously at the billto screen you are not allowed to go back as you cannot resubmit the form - it has already been processed -->
	</venda_block label=78>
	<venda_block label=79,param2=adbook>
	<!-- ie you were previously at the address book screen -->

	<a href="#" onclick='<venda_wizbutton step=shipadd,mode=display,param2=adbook,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a>
	</venda_block label=79>
</venda_block label=313>

<venda_block label=31,workflow=singleadbook>
		<!-- ie has no address book so this will go back to the order confirmation-->
		<a href="#" onclick='<venda_wizbutton step=confirm,mode=display,wizard=shopcart,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a>
</venda_block label=31>

<venda_block label=314,workflow!=shopcart,workflow!=manageaddresses,workflow!=giftlist,workflow!=singleadbook,workflow!=instore>
<venda_block label=24,param2=uk,param2=add,param2=storeadd,operator=or>
		<!-- try another postcode -->

		<venda_block label=40,mode=value,<venda_sessionlocation>!=europe><a href="#" onClick='<venda_wizbutton step=zipcodedelivery,mode=display,param1=delivery,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a></venda_block label=40>
		<venda_block label=35,mode=value,<venda_sessionlocation>=europe><a href="#" onClick='<venda_wizbutton step=shipadd,mode=display,param1=delivery,callonly=yes> return false;'><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a></venda_block label=35>
	</venda_block label=24>
	<venda_block label=25,param2!=uk,param2!=add,param2!=storeadd>
		<!-- back to my account -->
		<a href="<venda_dispview page=myaccount>"><img src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_previous.gif" alt="<venda_text id=site.button.previous>" border="0" class="left"></a>
	</venda_block label=25>
</venda_block label=314>

<input type="image" onClick="nextPage(); return false;" src="<venda_entmediaadd>/ebiz/<venda_bsref>/resources/images/<venda_sessionlanguage>/bt_continue.gif" alt="<venda_text id=site.button.continue>" class="right">
</div>

<venda_block label=244,param2!=uk>
<script type="text/javascript">
function swapLabel(){
        var stateLabel = document.getElementById("stateLabel");
        var zipcLabel = document.getElementById("zipcLabel");
        var cntryLabel = document.getElementById("countryLabel");
        var country = document.getElementById("cntrylist");

	if(country == undefined) { return; } //if country is undefined do nothing

		if(country.value == "United States"){
                        stateLabel.innerHTML = '<venda_text id=site.contact_address.label.us_state> <span class="re-waiHide"> <venda_text id=site.accessible.label.required></span> <span class="required">*</span>';
                        zipcLabel.innerHTML = '<venda_text id=site.contact_address.zipc.us_zipcode> <span class="re-waiHide"> <venda_text id=site.accessible.label.required></span> <span class="required">*</span>';
                        isRequiredField = true;
                }
                else if(country.value == "United Kingdom"){
                        stateLabel.innerHTML = '<venda_text id=site.contact_address.label.uk_county>';
                        zipcLabel.innerHTML = '<venda_text id=site.contact_address.zipc.non_us_postcode>';
                        isRequiredField = false;
                }
                else {
                        stateLabel.innerHTML = '<venda_text id=site.contact_address.label.non_us_uk_region>';
                        zipcLabel.innerHTML = '<venda_text id=site.contact_address.zipc.non_us_postcode>';
                        isRequiredField = false;
                }
}
				jQuery(document).ready(function(){
					swapLabel();
				});
                addEvent(document.wizform.cntry, 'change', swapLabel, true);
</script>
</venda_block label=244>
</form>
</div>
</div>

<venda_block label=20,workflow=instore>
<venda_tpxt mode=set,name=instore,value=1>
</venda_block label=20>

<!-- 
step: <venda_curstep>
workflow: <venda_workflow>
param1: <venda_param1>
param2: <venda_param2>
page: orad-editadd
 -->
<venda_tpxt mode=set,name=track,value=orad-editadd>
<venda_inctemplate name=googleTrackingWorkflows,type=includes>
<venda_inctemplate name=hbxlocalvars1,type=includes/tracking>
<venda_inctemplate name=hitboxOthers,type=includes/tracking>
<venda_inctemplate name=cmCreateRegistrationTag,type=includes/tracking/coremetrics>
<venda_inctemplate name=cm-wz_orad-editadd,type=includes/tracking/coremetrics>
